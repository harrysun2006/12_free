(function(a){function h(c){var b=a("#ii_title").val(),e=a("#ii_content").val(),f="",d;c.title!=null&&b.empty()?(f="\u8bf7\u8f93\u5165\u6807\u9898!",d=a("#ii_title")):e.empty()?(f="\u8bf7\u8f93\u5165\u5185\u5bb9!",d=a("#ii_content")):(c["#title"]=b,c["#content"]=e);f&&MessageBox(f,null,MB_ICONERROR,MB_OK,function(){d.focus()});return f==""}function i(a){var a=a.data[0],b=a["#onSave"];h(a)&&typeof b=="function"&&b(a);g()}function g(){a("#ii_box").dialog("close")}var e,d;CKEDITOR.config.toolbar_View=
[{name:"document",items:["Source","-","DocProps","Preview","Print"]},{name:"tools",items:["Maximize"]}];CKEDITOR.config.toolbar_Edit=[{name:"document",items:"Source,-,Save,NewPage,DocProps,Preview,Print,-,Templates".split(",")},{name:"clipboard",items:"Cut,Copy,Paste,PasteText,PasteFromWord,-,Undo,Redo".split(",")},{name:"editing",items:"Find,Replace,-,SelectAll,-,SpellChecker,Scayt".split(",")},{name:"forms",items:"Form,Checkbox,Radio,TextField,Textarea,Select,Button,ImageButton,HiddenField".split(",")},
{name:"basicstyles",items:"Bold,Italic,Underline,Strike,Subscript,Superscript,-,RemoveFormat".split(",")},{name:"paragraph",items:"NumberedList,BulletedList,-,Outdent,Indent,-,Blockquote,CreateDiv,-,JustifyLeft,JustifyCenter,JustifyRight,JustifyBlock,-,BidiLtr,BidiRtl".split(",")},"/",{name:"links",items:["Link","Unlink","Anchor"]},{name:"insert",items:"Image,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe".split(",")},{name:"styles",items:["Styles","Format","Font","FontSize"]},{name:"colors",
items:["TextColor","BGColor"]},{name:"tools",items:["Maximize","ShowBlocks"]}];a.IDS_INFO=a.IDS_INFO||{version:"1.0.0",name:"IDS_INFO"};a.extend(a.IDS_INFO,{init:function(){e=screen.width<800?screen.width:screen.width-200;d=screen.height<600?screen.height:screen.height-200;a("#ii_box").dialog({autoOpen:false,closeText:"hide",modal:true,resizable:false,width:e,height:d});a("#ii_title").width(e-10)},open:function(c){var b=c.caption||"";if(c.op=="view")b=c.title;a("#ii_box").dialog({title:b}).dialog("open");
a("#ii_title").val(c.title);a("#ii_content").val(c.content);a("#ii_save").unbind("click");a("#ii_save").bind("click",[c],i);a("#ii_close").unbind("click");a("#ii_close").bind("click",g);b={language:"zh-cn",image_previewText:" ",resize_enabled:false,width:e-10};c.op=="view"?(a("#ii_save").hide(),a("#ii_close").text("\u5173\u95ed"),a("#ii_title").hide(),a("#ii_content").attr("readonly","readonly"),b.height=d-160,b.readOnly=true,b.toolbar="View"):(a("#ii_save").show(),a("#ii_close").text("\u53d6\u6d88"),
a("#ii_title").show(),a("#ii_content").removeAttr("readonly"),b.height=d-240,b.readOnly=false,b.toolbar="Edit");typeof c.title=="undefined"&&a("#ii_title").hide();a("#ii_content").ckeditor(b)}})})(jQuery);$(function(){$.IDS_INFO.init()});
